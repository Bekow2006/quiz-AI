<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>AI Quiz Generator</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #6c5ce7; color: white; display: flex; align-items: center; justify-content: center; min-height: 100vh; margin: 0; }
        .card { background: white; color: #333; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); text-align: center; width: 90%; max-width: 400px; }
        input { width: 100%; padding: 12px; margin: 20px 0; border: 2px solid #eee; border-radius: 10px; box-sizing: border-box; font-size: 16px; }
        button { background: #00b894; color: white; border: none; padding: 15px; border-radius: 10px; cursor: pointer; font-size: 16px; font-weight: bold; width: 100%; margin-bottom: 10px; transition: 0.2s; }
        button:hover { opacity: 0.9; transform: translateY(-2px); }
        .ans-btn { background: #6c5ce7; }
        #status { margin-top: 20px; font-size: 14px; color: #666; }
    </style>
</head>
<body>
    <div class="card" id="game-card">
        <h2>AI Quiz üß†</h2>
        <div id="setup">
            <p>–í–≤–µ–¥–∏ —Ç–µ–º—É –¥–ª—è –≤–æ–ø—Ä–æ—Å–∞:</p>
            <input type="text" id="topic" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ü–ª–∞–Ω–µ—Ç—ã">
            <button onclick="startMagic()">–°–æ–∑–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å</button>
        </div>
        <div id="status"></div>
    </div>

    <script>
        // –í–°–¢–ê–í–¨ –°–í–û–ô –¢–û–ö–ï–ù –û–¢ HUGGING FACE –ù–ò–ñ–ï
        const hfToken = "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"; 

        async function startMagic() {
            const topic = document.getElementById('topic').value;
            const status = document.getElementById('status');
            if(!topic) return alert("–í–≤–µ–¥–∏ —Ç–µ–º—É!");

            status.innerHTML = "ü§ñ –ò–ò –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤–æ–ø—Ä–æ—Å... (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 5-10 —Å–µ–∫)";

            try {
                const response = await fetch(
                    "https://api-inference.huggingface.co/models/Mistralai/Mistral-7B-Instruct-v0.2",
                    {
                        headers: { Authorization: `Bearer ${hfToken}`, "Content-Type": "application/json" },
                        method: "POST",
                        body: JSON.stringify({
                            inputs: `[INST] –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π 1 –≤–æ–ø—Ä–æ—Å –ø—Ä–æ ${topic} –Ω–∞ —Ä—É—Å—Å–∫–æ–º. –§–æ—Ä–º–∞—Ç: –í–æ–ø—Ä–æ—Å | –û—Ç–≤–µ—Ç1 | –û—Ç–≤–µ—Ç2 | –û—Ç–≤–µ—Ç3 | 1. –ü–∏—à–∏ —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É. [/INST]`,
                        }),
                    }
                );

                const result = await response.json();
                const text = result[0].generated_text.split('[/INST]')[1].trim();
                const parts = text.split('|');

                if(parts.length >= 5) {
                    showQuestion(parts[0], parts[1], parts[2], parts[3], parts[4]);
                } else {
                    status.innerHTML = "üîÑ –û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑!";
                }
            } catch (e) {
                status.innerHTML = "‚ùå –û—à–∏–±–∫–∞: –ø—Ä–æ–≤–µ—Ä—å —Ç–æ–∫–µ–Ω –∏–ª–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç";
            }
        }

        function showQuestion(q, a1, a2, a3, correct) {
            const card = document.getElementById('game-card');
            card.innerHTML = `
                <h3>${q}</h3>
                <button class="ans-btn" onclick="check(1, ${parseInt(correct)})">${a1}</button>
                <button class="ans-btn" onclick="check(2, ${parseInt(correct)})">${a2}</button>
                <button class="ans-btn" onclick="check(3, ${parseInt(correct)})">${a3}</button>
                <p><a href="" style="color:#666; font-size:12px;">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</a></p>
            `;
        }

        function check(chosen, correct) {
            if(chosen === correct) {
                alert("–í–µ—Ä–Ω–æ! üåü");
                location.reload();
            } else {
                alert("–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ üôÉ –ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑!");
            }
        }
    </script>
</body>
</html>
</script>
</body>
</html>
