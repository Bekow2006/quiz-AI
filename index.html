<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>AI Quiz Maker</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #6c5ce7; color: white; display: flex; align-items: center; justify-content: center; height: 100vh; margin: 0; }
        .card { background: white; color: #333; padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); text-align: center; width: 350px; }
        input { width: 100%; padding: 12px; margin: 20px 0; border: 2px solid #eee; border-radius: 10px; box-sizing: border-box; font-size: 16px; }
        button { background: #00b894; color: white; border: none; padding: 15px 30px; border-radius: 10px; cursor: pointer; font-size: 18px; font-weight: bold; width: 100%; transition: 0.3s; }
        button:hover { background: #00947a; transform: scale(1.02); }
        #status { margin-top: 20px; font-style: italic; color: #666; }
    </style>
</head>
<body>
    <div class="card">
        <h2>–°–æ–∑–¥–∞—Ç—å –ö–≤–∏–∑ üìù</h2>
        <p>–í–≤–µ–¥–∏ —Ç–µ–º—É, –∏ –ò–ò –ø—Ä–∏–¥—É–º–∞–µ—Ç –≤–æ–ø—Ä–æ—Å—ã</p>
        <input type="text" id="topic" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ò—Å—Ç–æ—Ä–∏—è –º–µ–º–æ–≤">
        <button onclick="startMagic()">–°–æ–∑–¥–∞—Ç—å –ú–∞–≥–∏—é</button>
        <div id="status"></div>
    </div>

  <script>
const apiKey = "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";

async function startMagic() {
    const topic = document.getElementById('topic').value;
    const status = document.getElementById('status');
    
    if(!topic) return alert("–°–Ω–∞—á–∞–ª–∞ –≤–≤–µ–¥–∏ —Ç–µ–º—É!");
    status.innerHTML = "ü§ñ –ò–ò –∫–æ–ª–¥—É–µ—Ç... –ø–æ–¥–æ–∂–¥–∏—Ç–µ";

    try {
        const response = await fetch("https://openrouter.ai/api/v1/chat/completions", {
            method: "POST",
            headers: {
                "Authorization": `Bearer ${apiKey}`,
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                "model": "meta-llama/llama-3-8b-instruct:free", // –ü–æ–º–µ–Ω—è–ª–∏ –Ω–∞ Llama 3 (–±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è)
                "messages": [
                    {"role": "user", "content": `–°–æ–∑–¥–∞–π 3 –≤–æ–ø—Ä–æ—Å–∞ –ø–æ —Ç–µ–º–µ ${topic} –Ω–∞ —Ä—É—Å—Å–∫–æ–º. –§–æ—Ä–º–∞—Ç: –í–æ–ø—Ä–æ—Å - –í–∞—Ä–∏–∞–Ω—Ç—ã - –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç.`}
                ]
            })
        });

        const data = await response.json();

        // –ü—Ä–æ–≤–µ—Ä–∫–∞: –ø—Ä–∏—à–µ–ª –ª–∏ —Ç–µ–∫—Å—Ç –æ—Ç –ò–ò
        if (data.choices && data.choices[0] && data.choices[0].message) {
            const aiText = data.choices[0].message.content;
            status.innerHTML = `<div style="text-align:left; color:#333; margin-top:20px; background:#f9f9f9; padding:10px; border-radius:10px;">
                ${aiText.replace(/\n/g, '<br>')}
            </div>`;
        } else {
            // –ï—Å–ª–∏ –ò–ò –ø—Ä–∏—Å–ª–∞–ª –æ—à–∏–±–∫—É, –º—ã –µ—ë —É–≤–∏–¥–∏–º
            const errorMsg = data.error ? data.error.message : "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞";
            status.innerHTML = "‚ùå –ò–ò –Ω–µ –æ—Ç–≤–µ—Ç–∏–ª: " + errorMsg;
        }
        
    } catch (error) {
        status.innerHTML = "‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏: " + error.message;
    }
}
</script>
</body>
</html>
